export TENDERLY_VERIFIER_URL=https://virtual.mainnet.rpc.tenderly.co/c5ed9a3b-7ad5-4d6a-8e4b-76a4b00ba6ea/verify/etherscan
RPC_URL=https://virtual.mainnet.rpc.tenderly.co/c5ed9a3b-7ad5-4d6a-8e4b-76a4b00ba6ea
PRIVATE_KEY=
TENDERLY_ACCESS_TOKEN=

forge script script/deploy/KernelPlugins.s.sol \
    --rpc-url $RPC_URL \
    --broadcast \
    --slow \
    --private-key $PRIVATE_KEY \
    --etherscan-api-key $TENDERLY_ACCESS_TOKEN \
    --verify \
    --verifier-url $TENDERLY_VERIFIER_URL \
    --ffi
[⠢] Compiling...
[⠢] Compiling 1 files with Solc 0.8.25
[⠆] Solc 0.8.25 finished in 863.68ms
Compiler run successful!
Script ran successfully.

== Logs ==
  Deployer address: 0x43B32D92d8A6b67104D621E9a9C3831A01A8c50c
  KernelIntentValidator deployed at: 0x279a65EeC50cC344bbE07B5f2a0adC4dCAc0BA9B
  KernelIntentExecutor deployed at: 0x5057A3c62Cd6ffDbA164a08c1DfE249C8637314A

## Setting up 1 EVM.

==========================

Chain 888

Estimated gas price: 0.000000003 gwei

Estimated total gas used for script: 1024885

Estimated amount required: 0.000000000003074655 ETH

==========================

##### 888
✅  [Success]Hash: 0x8995f3d036999c7a1a766564af16f25b30c097567bafdffc80829301499df37b
Contract Address: 0x279a65EeC50cC344bbE07B5f2a0adC4dCAc0BA9B
Block: 20341646
Paid: 0.000000000001573914 ETH (524638 gas * 0.000000003 gwei)


##### 888
✅  [Success]Hash: 0x50614b034ec791ded5864331057bded724655621b9327c422931e7947c41bfa9
Contract Address: 0x5057A3c62Cd6ffDbA164a08c1DfE249C8637314A
Block: 20341647
Paid: 0.000000000000791208 ETH (263736 gas * 0.000000003 gwei)

✅ Sequence #1 on 888 | Total Paid: 0.000000000002365122 ETH (788374 gas * avg 0.000000003 gwei)


==========================

ONCHAIN EXECUTION COMPLETE & SUCCESSFUL.
##
Start verification for (2) contracts
Start verifying contract `0x279a65EeC50cC344bbE07B5f2a0adC4dCAc0BA9B` deployed on 888

Submitting verification for [src/KernelIntentECDSAValidator.sol:KernelIntentValidator] 0x279a65EeC50cC344bbE07B5f2a0adC4dCAc0BA9B.
Submitted contract for verification:
        Response: `OK`
        GUID: `0x279a65eec50cc344bbe07b5f2a0adc4dcac0ba9b`
        URL: https://virtual.mainnet.rpc.tenderly.co/13d45a24-2474-431e-8f19-31f251f6cd2a/verify/address/0x279a65eec50cc344bbe07b5f2a0adc4dcac0ba9b
Contract verification status:
Response: `OK`
Details: `Pass - Verified`
Contract successfully verified
Start verifying contract `0x5057A3c62Cd6ffDbA164a08c1DfE249C8637314A` deployed on 888

Submitting verification for [src/KernelIntentExecutor.sol:KernelIntentExecutor] 0x5057A3c62Cd6ffDbA164a08c1DfE249C8637314A.
Submitted contract for verification:
        Response: `OK`
        GUID: `0x5057a3c62cd6ffdba164a08c1dfe249c8637314a`
        URL: https://virtual.mainnet.rpc.tenderly.co/13d45a24-2474-431e-8f19-31f251f6cd2a/verify/address/0x5057a3c62cd6ffdba164a08c1dfe249c8637314a
Contract verification status:
Response: `OK`
Details: `Pass - Verified`
Contract successfully verified
All (2) contracts were verified!

Transactions saved to: /Users/mar/go/src/github.com/blndgs/intentaccounts/broadcast/KernelPlugins.s.sol/888/run-latest.json

Sensitive values saved to: /Users/mar/go/src/github.com/blndgs/intentaccounts/cache/KernelPlugins.s.sol/888/run-latest.json
